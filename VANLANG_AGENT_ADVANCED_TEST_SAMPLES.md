# ğŸ§ª **VANLANG AGENT - TEST SAMPLES CHO TÃNH NÄ‚NG NÃ‚NG CAO**

## ğŸ¯ **Tá»”NG QUAN**

File nÃ y chá»©a test cases cho **2 tÃ­nh nÄƒng nÃ¢ng cao má»›i** cá»§a VanLang Agent:
- **ğŸ” TÃNH NÄ‚NG 4: Advanced Filtering (TÃ¬m kiáº¿m nÃ¢ng cao)**
- **â° TÃNH NÄ‚NG 6: Time-based Queries (Truy váº¥n theo thá»i gian)**

---

## ğŸ” **TÃNH NÄ‚NG 4: ADVANCED FILTERING**

### **ğŸ“Š Lá»c theo toÃ¡n tá»­ so sÃ¡nh:**

#### **âœ… Test Cases - Lá»›n hÆ¡n/TrÃªn:**
```
1. "Chi tiÃªu trÃªn 1 triá»‡u"
2. "Thu nháº­p lá»›n hÆ¡n 2 triá»‡u"
3. "Khoáº£n vay above 500k"
4. "Chi tiÃªu greater than 100k"
5. "Thu nháº­p higher than 1tr"
```

#### **âœ… Test Cases - Nhá» hÆ¡n/DÆ°á»›i:**
```
6. "Chi tiÃªu dÆ°á»›i 500k"
7. "Thu nháº­p nhá» hÆ¡n 1 triá»‡u"
8. "Khoáº£n vay below 200k"
9. "Chi tiÃªu less than 50k"
10. "Thu nháº­p lower than 800k"
```

#### **âœ… Test Cases - Cá»±c trá»‹ (Max/Min):**
```
11. "Chi tiÃªu cao nháº¥t"
12. "Thu nháº­p tháº¥p nháº¥t"
13. "Khoáº£n vay lá»›n nháº¥t"
14. "Chi tiÃªu nhá» nháº¥t"
15. "Thu nháº­p highest"
16. "Chi tiÃªu minimum"
17. "Khoáº£n vay max"
18. "Thu nháº­p lowest"
```

### **ğŸ” Káº¿t quáº£ mong Ä‘á»£i cho Advanced Filtering:**
```
ğŸ” **Chi tiÃªu trÃªn 1,000,000**

âœ… **TÃ¬m tháº¥y 3 káº¿t quáº£:**

**1.** 1,500,000 VND
   ğŸ“… 15/01/2025 | ğŸ“‚ Mua sáº¯m
   ğŸ“ Mua laptop má»›i

**2.** 1,200,000 VND
   ğŸ“… 10/01/2025 | ğŸ“‚ Ä‚n uá»‘ng
   ğŸ“ Tiá»‡c sinh nháº­t

**3.** 1,100,000 VND
   ğŸ“… 05/01/2025 | ğŸ“‚ Di chuyá»ƒn
   ğŸ“ Äá»• xÄƒng thÃ¡ng

ğŸ“Š **Tá»•ng káº¿t:**
â€¢ Sá»‘ lÆ°á»£ng: 3 giao dá»‹ch
â€¢ Tá»•ng tiá»n: 3,800,000 VND
```

---

## â° **TÃNH NÄ‚NG 6: TIME-BASED QUERIES**

### **ğŸ“… Truy váº¥n theo thá»i gian cá»¥ thá»ƒ:**

#### **âœ… Test Cases - Thá»i gian gáº§n:**
```
19. "Thu nháº­p tuáº§n nÃ y"
20. "Chi tiÃªu hÃ´m nay"
21. "Khoáº£n vay thÃ¡ng nÃ y"
22. "Thu nháº­p this week"
23. "Chi tiÃªu today"
24. "Khoáº£n vay this month"
```

#### **âœ… Test Cases - Thá»i gian quÃ¡ khá»©:**
```
25. "Chi tiÃªu thÃ¡ng trÆ°á»›c"
26. "Thu nháº­p hÃ´m qua"
27. "Khoáº£n vay last month"
28. "Chi tiÃªu yesterday"
```

#### **âœ… Test Cases - Tá»•ng quan theo thá»i gian:**
```
29. "Tá»•ng quan tÃ i chÃ­nh thÃ¡ng nÃ y"
30. "Tá»•ng quan tuáº§n nÃ y"
31. "TÃ¬nh hÃ¬nh tÃ i chÃ­nh hÃ´m nay"
32. "Overview thÃ¡ng trÆ°á»›c"
```

### **â° Káº¿t quáº£ mong Ä‘á»£i cho Time-based Queries:**

#### **ğŸ“Š Truy váº¥n cá»¥ thá»ƒ:**
```
â° **Dá»¯ liá»‡u tÃ i chÃ­nh tuáº§n nÃ y**
ğŸ“… *Tá»« 20/01/2025 Ä‘áº¿n 26/01/2025*

ğŸ“Š **Thu nháº­p tuáº§n nÃ y:**

ğŸ’° **Tá»•ng cá»™ng:** 5,000,000 VND
ğŸ“ˆ **Sá»‘ lÆ°á»£ng:** 2 giao dá»‹ch

ğŸ“‹ **Chi tiáº¿t:**
**1.** 3,000,000 VND
   ğŸ“… 22/01/2025 | ğŸ“‚ LÆ°Æ¡ng
   ğŸ“ LÆ°Æ¡ng thÃ¡ng 1

**2.** 2,000,000 VND
   ğŸ“… 24/01/2025 | ğŸ“‚ ThÆ°á»Ÿng
   ğŸ“ ThÆ°á»Ÿng dá»± Ã¡n
```

#### **ğŸ“Š Tá»•ng quan tÃ i chÃ­nh:**
```
â° **Dá»¯ liá»‡u tÃ i chÃ­nh thÃ¡ng nÃ y**
ğŸ“… *Tá»« 01/01/2025 Ä‘áº¿n 31/01/2025*

ğŸ“Š **Tá»•ng quan tÃ i chÃ­nh:**

ğŸ’° **Thu nháº­p:** 15,000,000 VND (5 giao dá»‹ch)
ğŸ’¸ **Chi tiÃªu:** 8,500,000 VND (12 giao dá»‹ch)
ğŸ¦ **Khoáº£n vay:** 2,000,000 VND (1 khoáº£n)

ğŸ’¹ **Sá»‘ dÆ°:** 6,500,000 VND

ğŸ“‹ **Giao dá»‹ch gáº§n nháº¥t:**
ğŸ’° 3,000,000 VND - LÆ°Æ¡ng thÃ¡ng 1 (25/01/2025)
ğŸ’¸ 500,000 VND - Mua sáº¯m (24/01/2025)
ğŸ’° 2,000,000 VND - ThÆ°á»Ÿng dá»± Ã¡n (22/01/2025)
ğŸ’¸ 200,000 VND - Ä‚n uá»‘ng (20/01/2025)
ğŸ’¸ 150,000 VND - Äá»• xÄƒng (18/01/2025)
```

---

## ğŸ§ª **HÆ¯á»šNG DáºªN TEST CHI TIáº¾T**

### **ğŸ“‹ BÆ°á»›c 1: Chuáº©n bá»‹**
1. **Äáº£m báº£o AI Mode toggle = OFF** (Normal Mode)
2. **ÄÄƒng nháº­p** vá»›i tÃ i khoáº£n cÃ³ dá»¯ liá»‡u
3. **Má»Ÿ VanLang Agent chat**

### **ğŸ“‹ BÆ°á»›c 2: Test Advanced Filtering**
1. Test tá»«ng cÃ¢u tá»« **Test Cases 1-18**
2. Kiá»ƒm tra **intent detection** = `filter_query`
3. Kiá»ƒm tra **response format** Ä‘Ãºng nhÆ° máº«u
4. Kiá»ƒm tra **logic filter** hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c

### **ğŸ“‹ BÆ°á»›c 3: Test Time-based Queries**
1. Test tá»«ng cÃ¢u tá»« **Test Cases 19-32**
2. Kiá»ƒm tra **intent detection** = `time_query`
3. Kiá»ƒm tra **time range calculation** chÃ­nh xÃ¡c
4. Kiá»ƒm tra **data filtering** theo thá»i gian

### **ğŸ“‹ BÆ°á»›c 4: Ghi nháº­n káº¿t quáº£**
- **âœ… Hoáº¡t Ä‘á»™ng Ä‘Ãºng**
- **âŒ Lá»—i/KhÃ´ng hoáº¡t Ä‘á»™ng**
- **âš ï¸ Hoáº¡t Ä‘á»™ng nhÆ°ng khÃ´ng Ä‘Ãºng format**

---

## ğŸ“Š **Báº¢NG THEO DÃ•I Káº¾T QUáº¢**

| STT | Test Case | Intent Mong Äá»£i | Káº¿t Quáº£ | Ghi ChÃº |
|-----|-----------|----------------|---------|---------|
| 1   | "Chi tiÃªu trÃªn 1 triá»‡u" | filter_query | | |
| 6   | "Chi tiÃªu dÆ°á»›i 500k" | filter_query | | |
| 11  | "Chi tiÃªu cao nháº¥t" | filter_query | | |
| 12  | "Thu nháº­p tháº¥p nháº¥t" | filter_query | | |
| 19  | "Thu nháº­p tuáº§n nÃ y" | time_query | | |
| 25  | "Chi tiÃªu thÃ¡ng trÆ°á»›c" | time_query | | |
| 29  | "Tá»•ng quan tÃ i chÃ­nh thÃ¡ng nÃ y" | time_query | | |

---

## ğŸ¯ **TIÃŠU CHÃ ÄÃNH GIÃ**

### **âœ… ThÃ nh cÃ´ng khi:**
- Intent detection chÃ­nh xÃ¡c (filter_query/time_query)
- Response format Ä‘Ãºng vá»›i emoji vÃ  cáº¥u trÃºc
- Logic filter/time hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c
- Hiá»ƒn thá»‹ Ä‘Ãºng sá»‘ lÆ°á»£ng vÃ  tá»•ng tiá»n
- Há»— trá»£ cáº£ tiáº¿ng Viá»‡t cÃ³/khÃ´ng dáº¥u

### **âŒ Tháº¥t báº¡i khi:**
- Intent detection sai (fallback vá» other)
- Response format khÃ´ng Ä‘Ãºng
- Logic filter/time sai
- Lá»—i database hoáº·c parsing
- KhÃ´ng há»— trá»£ cÃ¡c biáº¿n thá»ƒ ngÃ´n ngá»¯

---

## ğŸš€ **Báº®T Äáº¦U TEST NGAY!**

**HÃ£y copy tá»«ng test case vÃ  gá»­i vÃ o VanLang Agent Ä‘á»ƒ kiá»ƒm tra!**

**BÃ¡o cÃ¡o káº¿t quáº£ Ä‘á»ƒ tÃ´i cÃ³ thá»ƒ debug vÃ  cáº£i thiá»‡n!** ğŸ‰

---

## ğŸ”§ **EDGE CASES & TROUBLESHOOTING**

### **ğŸ§ª Test Cases Ä‘áº·c biá»‡t:**

#### **ğŸ” Advanced Filtering Edge Cases:**
```
33. "Chi tiÃªu trÃªn 0 Ä‘á»“ng" (Test boundary)
34. "Thu nháº­p dÆ°á»›i 999999999 triá»‡u" (Test large number)
35. "Khoáº£n vay cao nháº¥t cá»§a tÃ´i" (Test with possessive)
36. "Chi tiÃªu tháº¥p nháº¥t hÃ´m nay" (Test combined filter + time)
```

#### **â° Time-based Edge Cases:**
```
37. "Thu nháº­p tuáº§n nÃ y cá»§a tÃ´i" (Test with possessive)
38. "Chi tiÃªu thÃ¡ng trÆ°á»›c vÃ  thÃ¡ng nÃ y" (Test multiple time)
39. "Tá»•ng quan tÃ i chÃ­nh hÃ´m qua" (Test past overview)
40. "Khoáº£n vay ngÃ y mai" (Test future - should fail gracefully)
```

### **âŒ CÃ¡c lá»—i cÃ³ thá»ƒ gáº·p:**

#### **ğŸ” Advanced Filtering:**
- **Intent detection sai:** Fallback vá» `expense_query` thay vÃ¬ `filter_query`
- **Amount parsing lá»—i:** KhÃ´ng hiá»ƒu "1tr", "500k"
- **Operator detection sai:** "trÃªn" Ä‘Æ°á»£c hiá»ƒu thÃ nh "dÆ°á»›i"
- **Empty results:** KhÃ´ng cÃ³ dá»¯ liá»‡u thá»a mÃ£n Ä‘iá»u kiá»‡n
- **Database error:** Lá»—i MongoDB query

#### **â° Time-based Queries:**
- **Intent detection sai:** Fallback vá» `income_query` thay vÃ¬ `time_query`
- **Time parsing lá»—i:** KhÃ´ng hiá»ƒu "tuáº§n nÃ y", "thÃ¡ng trÆ°á»›c"
- **Date calculation sai:** Sai khoáº£ng thá»i gian
- **Empty results:** KhÃ´ng cÃ³ dá»¯ liá»‡u trong khoáº£ng thá»i gian
- **Timezone issues:** Sai mÃºi giá»

### **ğŸ› ï¸ Debug Commands:**

#### **Kiá»ƒm tra Intent Detection:**
```
"Debug: Chi tiÃªu trÃªn 1 triá»‡u" â†’ Pháº£i return filter_query
"Debug: Thu nháº­p tuáº§n nÃ y" â†’ Pháº£i return time_query
```

#### **Kiá»ƒm tra Database:**
```
"Thu nháº­p cá»§a tÃ´i" â†’ Kiá»ƒm tra cÃ³ dá»¯ liá»‡u khÃ´ng
"Chi tiÃªu cá»§a tÃ´i" â†’ Kiá»ƒm tra cÃ³ dá»¯ liá»‡u khÃ´ng
```

---

## ğŸ“ **TEMPLATE BÃO CÃO Káº¾T QUáº¢**

### **ğŸ“Š BÃ¡o cÃ¡o cho Advanced Filtering:**
```
ğŸ” TEST: "Chi tiÃªu trÃªn 1 triá»‡u"
âœ…/âŒ Intent Detection: filter_query
âœ…/âŒ Response Format: ÄÃºng cáº¥u trÃºc
âœ…/âŒ Logic Filter: Lá»c chÃ­nh xÃ¡c
âœ…/âŒ Data Display: Hiá»ƒn thá»‹ Ä‘Ãºng
ğŸ“ Ghi chÃº: [MÃ´ táº£ chi tiáº¿t náº¿u cÃ³ lá»—i]
```

### **ğŸ“Š BÃ¡o cÃ¡o cho Time-based Queries:**
```
â° TEST: "Thu nháº­p tuáº§n nÃ y"
âœ…/âŒ Intent Detection: time_query
âœ…/âŒ Time Calculation: ÄÃºng khoáº£ng thá»i gian
âœ…/âŒ Response Format: ÄÃºng cáº¥u trÃºc
âœ…/âŒ Data Filter: Lá»c theo thá»i gian chÃ­nh xÃ¡c
ğŸ“ Ghi chÃº: [MÃ´ táº£ chi tiáº¿t náº¿u cÃ³ lá»—i]
```

---

## ğŸ¯ **CHECKLIST HOÃ€N CHá»ˆNH**

### **âœ… TrÆ°á»›c khi test:**
- [ ] Backend Ä‘ang cháº¡y trÃªn port 4000
- [ ] Frontend Ä‘ang cháº¡y trÃªn port 3000
- [ ] AI Mode toggle = OFF (Normal Mode)
- [ ] ÄÃ£ Ä‘Äƒng nháº­p vá»›i tÃ i khoáº£n cÃ³ dá»¯ liá»‡u
- [ ] Database cÃ³ Ã­t nháº¥t 5-10 giao dá»‹ch má»—i loáº¡i

### **âœ… Trong quÃ¡ trÃ¬nh test:**
- [ ] Test tá»«ng tÃ­nh nÄƒng riÃªng biá»‡t
- [ ] Ghi láº¡i intent detection cho má»—i cÃ¢u
- [ ] Kiá»ƒm tra response format
- [ ] Test cáº£ tiáº¿ng Viá»‡t cÃ³/khÃ´ng dáº¥u
- [ ] Test edge cases

### **âœ… Sau khi test:**
- [ ] Tá»•ng há»£p káº¿t quáº£ vÃ o báº£ng
- [ ] BÃ¡o cÃ¡o cÃ¡c lá»—i chi tiáº¿t
- [ ] Äá» xuáº¥t cáº£i thiá»‡n náº¿u cÃ³
- [ ] XÃ¡c nháº­n tÃ­nh nÄƒng hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh

---

## ğŸš€ **Sáº´N SÃ€NG TEST!**

**File nÃ y chá»©a Ä‘áº§y Ä‘á»§ 40 test cases cho 2 tÃ­nh nÄƒng nÃ¢ng cao má»›i!**

**HÃ£y báº¯t Ä‘áº§u test vÃ  bÃ¡o cÃ¡o káº¿t quáº£ nhÃ©!** ğŸ‰âœ¨
