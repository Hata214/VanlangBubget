# ğŸ¤– VanLang Agent - HÆ°á»›ng dáº«n POST dá»¯ liá»‡u

## ğŸ“ Tá»•ng quan
Agent Ä‘Ã£ Ä‘Æ°á»£c nÃ¢ng cáº¥p Ä‘á»ƒ há»— trá»£ ngÆ°á»i dÃ¹ng **THÃŠM Dá»® LIá»†U** vÃ o database thÃ´ng qua chat tá»± nhiÃªn.

## ğŸ’° THÃŠM THU NHáº¬P (insert_income)

### âœ… CÃ¡c cÃ¡ch nÃ³i Ä‘Æ°á»£c há»— trá»£:
```
"TÃ´i nháº­n lÆ°Æ¡ng 15 triá»‡u"
"TÃ´i Ä‘Æ°á»£c tráº£ 10 triá»‡u"
"TÃ´i kiáº¿m Ä‘Æ°á»£c 5 triá»‡u"
"TÃ´i thu vá» 2 triá»‡u"
"Nháº­n lÆ°Æ¡ng 20 triá»‡u hÃ´m nay"
"ÄÆ°á»£c tráº£ lÆ°Æ¡ng 12 triá»‡u"
"Thu vá» 3 triá»‡u tá»« freelance"
"Kiáº¿m Ä‘Æ°á»£c 1 triá»‡u"
"LÆ°Æ¡ng tÃ´i 15 triá»‡u"
"Tiá»n lÆ°Æ¡ng 18 triá»‡u"
"ThÆ°á»Ÿng 2 triá»‡u"
"Bonus 1 triá»‡u"
"ÄÆ°á»£c thÆ°á»Ÿng 500k"
"Nháº­n thÆ°á»Ÿng 3 triá»‡u"
```

### ğŸ“Š Káº¿t quáº£ mong Ä‘á»£i:
- âœ… LÆ°u vÃ o database collection `incomes`
- âœ… Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t vá»›i emoji ğŸ’°
- âœ… ÄÆ°a ra gá»£i Ã½ tiáº¿p theo

## ğŸ’¸ THÃŠM CHI TIÃŠU (insert_expense)

### âœ… CÃ¡c cÃ¡ch nÃ³i Ä‘Æ°á»£c há»— trá»£:
```
"TÃ´i mua cÃ  phÃª 50k"
"TÃ´i chi 200k Äƒn uá»‘ng"
"TÃ´i tráº£ 100k taxi"
"TÃ´i tiÃªu 300k mua sáº¯m"
"Mua quáº§n Ã¡o 500k"
"Chi tiÃªu Äƒn uá»‘ng 150k"
"Tráº£ tiá»n Ä‘iá»‡n 200k"
"TiÃªu 80k mua bÃ¡nh"
"Thanh toÃ¡n 1 triá»‡u"
"Tá»‘n 50k"
"Háº¿t 200k mua Ä‘á»“"
"Chi phÃ­ 300k"
```

### ğŸ“Š Káº¿t quáº£ mong Ä‘á»£i:
- âœ… LÆ°u vÃ o database collection `expenses`
- âœ… Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t vá»›i emoji ğŸ’¸
- âœ… Tá»± Ä‘á»™ng phÃ¢n loáº¡i danh má»¥c

## ğŸ¦ THÃŠM KHOáº¢N VAY (insert_loan)

### âœ… CÃ¡c cÃ¡ch nÃ³i Ä‘Æ°á»£c há»— trá»£:
```
"TÃ´i vay ngÃ¢n hÃ ng 5 triá»‡u"
"TÃ´i mÆ°á»£n báº¡n 500k"
"Vay 2 triá»‡u"
"MÆ°á»£n 1 triá»‡u"
"Ná»£ 3 triá»‡u"
"Cho vay 1 triá»‡u"
```

### ğŸ“Š Káº¿t quáº£ mong Ä‘á»£i:
- âœ… LÆ°u vÃ o database collection `loans`
- âœ… Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t vá»›i emoji ğŸ¦

## ğŸ”¢ Xá»­ lÃ½ sá»‘ tiá»n thÃ´ng minh

### âœ… CÃ¡c Ä‘á»‹nh dáº¡ng Ä‘Æ°á»£c há»— trá»£:
```
"50k" = 50,000 VND
"50 nghÃ¬n" = 50,000 VND
"1 triá»‡u" = 1,000,000 VND
"1tr" = 1,000,000 VND
"1m" = 1,000,000 VND
"2.5 triá»‡u" = 2,500,000 VND
"15 triá»‡u" = 15,000,000 VND
"100 Ä‘á»“ng" = 100 VND
"50000 vnd" = 50,000 VND
```

## ğŸ“‹ Danh má»¥c tá»± Ä‘á»™ng

### ğŸ’° Thu nháº­p:
- LÆ°Æ¡ng, ThÆ°á»Ÿng, Tiá»n tiáº¿t kiá»‡m, Thu nháº­p khÃ¡c, Freelance, BÃ¡n hÃ ng

### ğŸ’¸ Chi tiÃªu:
- Ä‚n uá»‘ng, Di chuyá»ƒn, Giáº£i trÃ­, Mua sáº¯m, Há»c táº­p, Y táº¿, HÃ³a Ä‘Æ¡n, KhÃ¡c

### ğŸ¦ Khoáº£n vay:
- NgÃ¢n hÃ ng, Báº¡n bÃ¨, Gia Ä‘Ã¬nh, CÃ´ng ty, KhÃ¡c

## ğŸ¯ VÃ­ dá»¥ test hoÃ n chá»‰nh

### Test 1: Thu nháº­p
```
Input: "TÃ´i nháº­n lÆ°Æ¡ng 15 triá»‡u hÃ´m nay"
Expected Output:
âœ… **ÄÃ£ lÆ°u thu nháº­p thÃ nh cÃ´ng!**

ğŸ’° **ThÃ´ng tin giao dá»‹ch:**
â€¢ Loáº¡i: Thu nháº­p
â€¢ Sá»‘ tiá»n: 15,000,000 VND
â€¢ Danh má»¥c: LÆ°Æ¡ng
â€¢ NgÃ y: 15/01/2024
â€¢ Ghi chÃº: Nháº­n lÆ°Æ¡ng

ğŸ’¡ **Gá»£i Ã½:** Báº¡n cÃ³ thá»ƒ:
â€¢ Há»i "thu nháº­p cá»§a tÃ´i" Ä‘á»ƒ xem tá»•ng quan
â€¢ NÃ³i "thÃªm thu nháº­p khÃ¡c" Ä‘á»ƒ tiáº¿p tá»¥c
â€¢ Há»i "sá»‘ dÆ° cá»§a tÃ´i" Ä‘á»ƒ xem tÃ¬nh hÃ¬nh tÃ i chÃ­nh
```

### Test 2: Chi tiÃªu
```
Input: "TÃ´i mua cÃ  phÃª 50k"
Expected Output:
âœ… **ÄÃ£ lÆ°u chi tiÃªu thÃ nh cÃ´ng!**

ğŸ’¸ **ThÃ´ng tin giao dá»‹ch:**
â€¢ Loáº¡i: Chi tiÃªu
â€¢ Sá»‘ tiá»n: 50,000 VND
â€¢ Danh má»¥c: Ä‚n uá»‘ng
â€¢ NgÃ y: 15/01/2024
â€¢ Ghi chÃº: Mua cÃ  phÃª
```

### Test 3: Khoáº£n vay
```
Input: "TÃ´i vay ngÃ¢n hÃ ng 5 triá»‡u"
Expected Output:
âœ… **ÄÃ£ lÆ°u khoáº£n vay thÃ nh cÃ´ng!**

ğŸ¦ **ThÃ´ng tin giao dá»‹ch:**
â€¢ Loáº¡i: Khoáº£n vay
â€¢ Sá»‘ tiá»n: 5,000,000 VND
â€¢ Danh má»¥c: NgÃ¢n hÃ ng
â€¢ NgÃ y: 15/01/2024
â€¢ Ghi chÃº: Vay ngÃ¢n hÃ ng
```

## ğŸš€ Cáº£i tiáº¿n Ä‘Ã£ thá»±c hiá»‡n

### 1. **Intent Recognition nÃ¢ng cao:**
- âœ… Nháº­n diá»‡n trá»±c tiáº¿p cÃ¡c cÃ¢u lá»‡nh POST
- âœ… Æ¯u tiÃªn cao cho cÃ¢u cÃ³ sá»‘ tiá»n + Ä‘á»™ng tá»« hÃ nh Ä‘á»™ng
- âœ… Há»— trá»£ nhiá»u cÃ¡ch diá»…n Ä‘áº¡t tá»± nhiÃªn

### 2. **Data Extraction thÃ´ng minh:**
- âœ… Xá»­ lÃ½ sá»‘ tiá»n Ä‘a dáº¡ng (k, triá»‡u, tr, m...)
- âœ… Tá»± Ä‘á»™ng phÃ¢n loáº¡i danh má»¥c
- âœ… Táº¡o ghi chÃº tá»« ngá»¯ cáº£nh

### 3. **Response cáº£i tiáº¿n:**
- âœ… Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t vá»›i emoji
- âœ… ÄÆ°a ra gá»£i Ã½ hÃ nh Ä‘á»™ng tiáº¿p theo
- âœ… Error handling vá»›i hÆ°á»›ng dáº«n cá»¥ thá»ƒ

### 4. **Database Integration:**
- âœ… LÆ°u trá»±c tiáº¿p vÃ o MongoDB
- âœ… Validation dá»¯ liá»‡u
- âœ… Format sá»‘ tiá»n chuáº©n

## ğŸ§ª CÃ¡ch test

1. **Má»Ÿ chatbot** trÃªn frontend
2. **ÄÄƒng nháº­p** vá»›i tÃ i khoáº£n há»£p lá»‡
3. **Gá»­i tin nháº¯n** theo cÃ¡c máº«u trÃªn
4. **Kiá»ƒm tra database** Ä‘á»ƒ xÃ¡c nháº­n dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c lÆ°u
5. **Test cÃ¡c trÆ°á»ng há»£p edge case**

Agent Ä‘Ã£ sáºµn sÃ ng Ä‘á»ƒ há»— trá»£ ngÆ°á»i dÃ¹ng POST dá»¯ liá»‡u má»™t cÃ¡ch tá»± nhiÃªn vÃ  thÃ´ng minh! ğŸ‰
